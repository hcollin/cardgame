div.world-map {
    --scale-value: 0.9;

    position: relative;

    background-image: url("./pics/papyrus.jpg");
    background-size: cover;
    box-shadow: inset 0 0 5rem 2rem #0008;

    flex: 2 2 auto;
    max-width: 66%;
    height: 100%;

    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;

    &>div.nodes {
        position: relative;
    }

    &>div.line-v {
        position: absolute;
        top: 0;
        bottom: 0;
        left: calc(50% - 5px);
        width: 10px;
        background: #0004;
    }

    &>div.line-h {
        position: absolute;
        top: calc(50% - 5px);
        left: 0;

        width: 100%;
        height: 10px;
        background: #0004;
    }

    &>div.map-title {
        font-family: "Tangerine", "Times New Roman", Serif;
        position: absolute;
        color: #FFF8;
        font-size: 6rem;
        bottom: 3rem;

        text-shadow: var(--text-stroke-large);
        letter-spacing: 2px;
        /* text-transform: uppercase; */
    }

    &>div.nodes>div.location-node {
        position: absolute;

        /* Width and height are set in the component */

        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;

        &>div.icon {
            position: absolute;
            top: 0;
            left: 15%;
            right: 15%;
            height: 70%;

            border: groove 3px #420A;
            border-radius: 50%;
            box-shadow: inset 0 0 2rem 1rem #FCC4;

            overflow: hidden;

            &>img {
                width: 80%;
                height: 80%;
                margin: 10%;
                filter: opacity(0.9);
            }
        }

        &>div.name {
            position: absolute;
            top: 75%;

            width: auto;
            overflow: visible;

        }

        &.selectable {

            &>div.icon {
                /* border: groove 3px #2C28; */
                border: groove 3px #240A;
                box-shadow: inset 0 0 2rem 1rem #FCC4, 0 0 1rem 0.5rem #fff8;
                /* background: #4A48; */
                animation: pulseWhite 2s infinite alternate;
            }
        }

        &.locked {

            &>div.icon {
                border: groove 3px #420A;
                box-shadow: inset 0 0 2rem 1rem #0006;

            }

            & > div.locked {
                position: absolute;
                top: 41%;
                left: 30%;
                width: 40%;
                z-index: 10;
                
                & > img {
                    width: 100%;
                    opacity: 0.75;
                }

            }
        }

        &.active {
            &>div.icon {
                background: #CEF8;
                box-shadow: inset 0 0 1rem 0.5rem #0008, 0 0 2rem 1rem #fffA;
            }
        }

        &.completed {
            & > div.icon {
                background: #4744;
                box-shadow: inset 0 0 1rem 0.5rem #000A, 0 0 1rem 0.5rem #464A;
            }

        }

        &.passedby {
            opacity: 0.25;
        }

        & > .active-ring {
            position: absolute;
            
            top: -15%;
            left: 0;
            right: 0;
            height: 100%;

            border: dashed 10px #000A;

            border-radius: 50%;
            
            animation: rotateRing 30s infinite linear;
        }

        & > .start-text {
            position: absolute;
            top: 0;
            left: 15%;
            width: 70%;
            height: 70%;
            margin: 0;
            padding: 0;
            z-index: 100;

            font-size: 3rem;
            color: #FFFD;
            font-weight: bold;
            text-shadow: var(--text-stroke-large);
            letter-spacing: 1px;
            
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;

            & > span {
                font-size: 1.5rem;
            }
        }

        & > div.completed {
            position: absolute;
            top: 37%;
            left: 17%;
            width: 50%;
            z-index: 10;
            
            & > img {
                width: 100%;
                opacity: 0.75;
            }

        } 

    }
}

@keyframes pulseWhite {

    from {
        box-shadow: inset 0 0 2rem 1rem #FCC6, 0 0 1rem 0.5rem #FFF8;
    }

    to {
        box-shadow: inset 0 0 2rem 1rem #FCC9, 0 0 3rem 1rem #FFFE;
    }
}

@keyframes rotateRing {

    

    0% {
        transform: rotate(0deg) scale(1);
    }

    10% {
        transform: rotate(36deg) scale(var(--scale-value));
    }

    20% {
        transform: rotate(72deg) scale(1);
    }

    30% {
        transform: rotate(108deg) scale(var(--scale-value));
    }

    40% {
        transform: rotate(144deg) scale(1);
    }

    50% {
        transform: rotate(180deg) scale(var(--scale-value));
    }

    60% {
        transform: rotate(216deg) scale(1);
    }

    70% {
        transform: rotate(252deg) scale(var(--scale-value));
    }

    80% {
        transform: rotate(288deg) scale(1);
    }

    90% {
        transform: rotate(324deg) scale(var(--scale-value));
    }
    
    100% {
        transform: rotate(360deg) scale(1);
    }
}